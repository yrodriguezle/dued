# DuedGusto - Full Stack Application

Cash management and point-of-sale system with React frontend and .NET backend.

## ğŸ“ Project Structure

```
dued/
â”œâ”€â”€ backend/          # .NET 8.0 Backend (GraphQL + REST API)
â”œâ”€â”€ duedgusto/        # React Frontend (TypeScript + Vite)
â””â”€â”€ setup-dev-environment.js  # Auto-configure local IP
```

## ğŸš€ Quick Start (First Time Setup)

### 1. Setup Development Environment

Run this script **every time you change network/location**:

```bash
npm run setup
```

This script automatically:
- Detects your local IP address (192.168.x.x or 10.x.x.x)
- Updates frontend `config.json` with the correct backend endpoints
- Shows you the URLs to access the app

### 2. Start Backend

```bash
cd backend
dotnet run
```

Backend will start on:
- HTTP: `http://0.0.0.0:4000` (all network interfaces)
- HTTPS: `https://0.0.0.0:4000`

### 3. Start Frontend

```bash
cd duedgusto
npm run dev
```

Frontend will start on:
- `http://0.0.0.0:4001` (accessible from any device on the network)

### 4. Access the Application

- **On this machine**: `http://localhost:4001` or `http://192.168.x.x:4001`
- **On other devices** (phone, tablet): `http://192.168.x.x:4001`

**Important**: Use the IP address (not localhost) to ensure cookies work correctly!

## ğŸ”§ Development Workflow

### When You Change Location/Network

Just run:

```bash
npm run setup
```

Then restart backend and frontend.

### Environment Configuration

- **Frontend**: `duedgusto/public/config.json` (auto-generated by `npm run setup`)
- **Backend**: `backend/Properties/launchSettings.json` (pre-configured with 0.0.0.0)

## ğŸ“š Documentation

- Frontend docs: `duedgusto/CLAUDE.md`
- Backend docs: `backend/CLAUDE.md`

## ğŸ› Troubleshooting

### Cookies not working

Make sure you access the frontend using the **IP address**, not `localhost`:
- âœ… Correct: `http://192.168.1.232:4001`
- âŒ Wrong: `http://localhost:4001`

Cookies are set by the backend on `192.168.1.232:4000` and must be read by the frontend on the same domain.

### CORS errors

The backend is already configured to accept requests from:
- `localhost` on any port
- Local network IPs (`192.168.x.x`, `10.x.x.x`) on any port

If you still get CORS errors, check `backend/Program.cs` CORS configuration.
